<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ í…Œì˜¤ ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ âœ¨</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter í°íŠ¸ ì„í¬íŠ¸ */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        /* Ensure html and body take full height of the viewport */
        html, body {
            height: 100%; /* Make html and body take full viewport height */
            margin: 0;
            padding: 0;
            overflow: hidden; /* CRITICAL: Prevents scrollbars on the html/body itself */
            box-sizing: border-box; /* Include padding/border in total size for consistent calculations */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            display: flex; /* Use flexbox to center the container vertically and horizontally */
            justify-content: center;
            align-items: center;
            padding: 20px; /* Creates a consistent visual margin around the central container */
        }

        .container {
            max-width: 700px; /* Desktop max width */
            width: 100%; /* Mobile full width */
            background-color: #ffffff;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15); /* Enhanced shadow */
            
            /* CRITICAL for containing scroll: */
            /* The container takes 100% of the available height from its flex parent (body's content area). */
            /* If its internal content overflows this height, then the container's own scrollbar activates. */
            height: 100%; 
            overflow-y: auto; /* Enables vertical scrolling *within this container* if content overflows */
            -webkit-overflow-scrolling: touch; /* For smoother scrolling on iOS devices */

            padding: 35px; /* Internal padding for content within the container */
        }

        /* Adjust container's internal padding for smaller screens for better fit */
        @media (max-width: 640px) {
            .container {
                padding: 25px; /* Smaller internal padding on mobile */
            }
        }

        /* Custom modal styles for messages/alerts */
        .modal {
            display: none; /* Hidden by default, JS will change to 'flex' */
            position: fixed; /* Stays in place relative to the viewport */
            z-index: 1000; /* Stays on top of other content */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enables scrolling for modal content if it's too long */
            background-color: rgba(0,0,0,0.5); /* Semi-transparent black overlay */
            align-items: center; /* Center modal content vertically */
            justify-content: center; /* Center modal content horizontally */
        }
        .modal-content {
            background-color: #fefefe; /* White background for modal box */
            margin: auto; /* Auto margins for centering (when not flex) */
            padding: 40px; /* Internal padding */
            border-radius: 12px; /* Rounded corners for the modal box */
            box-shadow: 0 8px 25px rgba(0,0,0,0.4); /* Shadow for depth */
            max-width: 450px; /* Max width for readability */
            width: 90%; /* Responsive width */
            text-align: center;
            position: relative; /* For positioning the close button */
        }
        .close-button {
            color: #999;
            position: absolute; /* Position relative to .modal-content */
            top: 15px;
            right: 20px;
            font-size: 32px; /* Larger font size */
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease; /* Smooth color transition on hover */
        }
        .close-button:hover,
        .close-button:focus {
            color: #555;
        }

        /* Placeholder text with subtle shading */
        #direct-type-input::placeholder {
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15); /* Soft shadow */
            color: #a0aec0; /* Slightly darker than default placeholder color */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Start Screen -->
        <div id="start-screen" class="flex flex-col items-center justify-center text-center">
            <h1 class="text-4xl lg:text-5xl font-bold text-gray-800 mb-4">âœ¨ í…Œì˜¤ ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ âœ¨</h1>
            <p class="text-gray-600 mb-10 text-lg lg:text-xl leading-relaxed">
                ë‹¹ì‹ ì€ ì–´ë–¤ í˜¸ë¥´ëª¬ ì„±í–¥ì„ ê°€ì§€ê³  ìˆì„ê¹Œìš”? <br>
                ì¬ë¯¸ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ í…Œì˜¤-ì—ê² ìœ í˜•!
            </p>
            <button id="start-button" class="group relative overflow-hidden bg-gradient-to-r from-pink-400 to-purple-500 text-white font-extrabold py-5 px-10 rounded-full shadow-xl hover:from-pink-500 hover:to-purple-600 transition-all duration-500 transform hover:scale-105">
                <span class="relative z-10">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</span>
                <span class="absolute inset-0 bg-white opacity-20 transform scale-0 group-hover:scale-100 transition-transform duration-500 ease-out"></span>
            </button>
            <div class="mt-10 w-full max-w-sm flex flex-col sm:flex-row items-center justify-center">
                <!-- Placeholder text updated -->
                <!-- flex-growë¥¼ ì‚¬ìš©í•˜ì—¬ inputì´ ê°€ëŠ¥í•œ ê³µê°„ì„ ëª¨ë‘ ì±„ìš°ë„ë¡ í•˜ê³ , sm:flex-noneìœ¼ë¡œ ì‘ì€ í™”ë©´ì—ì„œëŠ” ë‹¤ì‹œ ë³¸ë˜ í¬ê¸°ë¡œ ëŒì•„ì˜¤ê²Œ í•©ë‹ˆë‹¤. -->
                <input type="text" id="direct-type-input" placeholder="ì˜ˆ: í…Œí† ë‚¨ í…Œí† ë…€" class="w-full flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 mr-0 sm:mr-3 mb-3 sm:mb-0 text-base">
                <!-- sm:flex-noneìœ¼ë¡œ ë²„íŠ¼ì´ ì¤„ì–´ë“¤ì§€ ì•Šê³  ê³ ì •ëœ í¬ê¸°ë¥¼ ìœ ì§€í•˜ê²Œ í•©ë‹ˆë‹¤. -->
                <button id="direct-type-button" class="w-full sm:w-auto sm:flex-none bg-blue-100 text-blue-700 font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-200 transition-colors duration-200 transform hover:scale-105 whitespace-nowrap">
                    ê²°ê³¼ ë°”ë¡œë³´ê¸°
                </button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="text-center mb-8">
                <p class="text-gray-500 text-base mb-3"><span id="current-question-num">1</span> / <span id="total-questions-num">15</span></p>
                <div class="w-full bg-gray-200 rounded-full h-3.5">
                    <div id="progress-bar" class="bg-gradient-to-r from-pink-400 to-purple-500 h-3.5 rounded-full transition-all duration-500 ease-out" style="width: 0%;"></div>
                </div>
            </div>
            <div class="p-8 bg-white rounded-xl shadow-xl">
                <h2 id="question-text" class="text-2xl sm:text-3xl font-bold mb-6 text-center text-gray-800 leading-tight"></h2>
                <div id="options-container" class="space-y-4">
                    <!-- Answer buttons will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl lg:text-4xl font-bold text-gray-800 mb-6">ë‹¹ì‹ ì˜ í…Œì˜¤ ì—ê² ìœ í˜•ì€?</h2>
            <img id="result-character-image" src="" alt="ê²°ê³¼ ìºë¦­í„° ì´ë¯¸ì§€" class="w-44 h-44 rounded-full mx-auto mb-7 border-4 border-purple-500 shadow-xl object-cover transform transition-transform duration-300 hover:scale-105">
            <h3 id="result-type-name" class="text-3xl font-extrabold text-indigo-700 mb-4 animate-pulse"></h3>
            <p id="result-one-liner" class="text-xl font-semibold text-gray-700 mb-6 px-2 italic">
                <!-- í•œì¤„ ìš”ì•½ -->
            </p>
            <p id="result-summary" class="text-lg text-gray-700 mb-8 leading-relaxed px-2"></p>

            <div class="grid md:grid-cols-2 gap-7 mb-10">
                <div class="bg-purple-50 p-5 rounded-xl shadow-lg border border-purple-200">
                    <h4 class="text-xl sm:text-2xl font-semibold text-purple-700 mb-3">ğŸ’– ì—°ì•  ìŠ¤íƒ€ì¼</h4>
                    <p id="result-love-style" class="text-gray-600 text-base leading-relaxed"></p>
                </div>
                <div class="bg-indigo-50 p-5 rounded-xl shadow-lg border border-indigo-200">
                    <h4 class="text-xl sm:text-2xl font-semibold text-indigo-700 mb-3">ğŸ¤ ì‚¬íšŒì  íŠ¹ì„±</h4>
                    <p id="result-social-trait" class="text-gray-600 text-base leading-relaxed"></p>
                </div>
            </div>

            <!-- New sections for compatibility and what's needed -->
            <div class="grid md:grid-cols-2 gap-7 mb-10">
                <div class="bg-green-50 p-5 rounded-xl shadow-lg border border-green-200">
                    <h4 class="text-xl sm:text-2xl font-semibold text-green-700 mb-3">âœ… ê¶í•©ì´ ì¢‹ì€ ìœ í˜•</h4>
                    <p id="result-good-compatibility" class="text-gray-600 text-base leading-relaxed"></p>
                </div>
                <div class="bg-red-50 p-5 rounded-xl shadow-lg border border-red-200">
                    <h4 class="text-xl sm:text-2xl font-semibold text-red-700 mb-3">âš ï¸ ê¶í•©ì´ ì–´ë ¤ìš´ ìœ í˜•</h4>
                    <p id="result-bad-compatibility" class="text-gray-600 text-base leading-relaxed"></p>
                </div>
            </div>

            <div class="mt-10 p-5 bg-blue-50 rounded-xl shadow-inner border border-blue-200">
                <h4 class="text-xl sm:text-2xl font-semibold text-blue-700 mb-3">ğŸ’¡ ë‚˜ì—ê²Œ í•„ìš”í•œ ì </h4>
                <p id="result-needs" class="text-gray-700 text-base leading-relaxed"></p>
            </div>

            <div class="mt-10 p-5 bg-yellow-100 rounded-xl shadow-inner border border-yellow-300">
                <h4 class="text-xl sm:text-2xl font-semibold text-yellow-800 mb-3">âœ¨ ë‹¹ì‹ ì—ê²Œ ì¶”ì²œí•˜ëŠ” ì½˜í…ì¸ /ì§ì—…</h4>
                <p id="result-extra-content" class="text-gray-700 text-base leading-relaxed"></p>
            </div>

            <button id="restart-button" class="mt-10 bg-gradient-to-r from-green-400 to-emerald-500 text-white font-extrabold py-4 px-8 rounded-full shadow-xl hover:from-green-500 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105">
                ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
            </button>
        </div>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal-button">&times;</span>
            <p id="modal-message" class="text-lg text-gray-700 mb-6"></p>
            <button id="modal-ok-button" class="bg-blue-500 text-white font-semibold py-3 px-6 rounded-md hover:bg-blue-600 transition-colors duration-200 shadow-md">í™•ì¸</button>
        </div>
    </div>

    <script>
        // ----------------------------------------------------
        // 1. í…ŒìŠ¤íŠ¸ ë°ì´í„° ë° ìœ í˜• ì •ì˜
        // ----------------------------------------------------

        // Quiz Questions Data (total 15 questions)
        const quizQuestions = [
            {
                question: "ê°ˆë“± ìƒí™©ì—ì„œ ë‹¹ì‹ ì˜ ì£¼ëœ ë°˜ì‘ì€?",
                options: [
                    { text: "ë¬¸ì œë¥¼ ì§ë©´í•˜ê³  í•´ê²°ì±…ì„ ì°¾ìœ¼ë ¤ í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ê°ì •ì„ ì¡°ì ˆí•˜ê³  ìƒëŒ€ë°©ì˜ ì…ì¥ì„ ì´í•´í•˜ë ¤ ë…¸ë ¥í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } },
                    { text: "ìƒí™©ì„ í”¼í•˜ê³  ì‹œê°„ì´ í•´ê²°í•´ì£¼ê¸¸ ê¸°ë‹¤ë¦°ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ìƒí™©ì„ ë¶„ì„í•˜ê³  ë‚˜ì˜ ì£¼ì¥ì„ ê°•í•˜ê²Œ ë‚´ì„¸ìš´ë‹¤.", scores: { tetoMan: 3, tetoWoman: 1, egenMan: 0, egenWoman: 0 } }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ë§Œë‚¬ì„ ë•Œ, ë‹¹ì‹ ì€?",
                options: [
                    { text: "ë¨¼ì € ë‹¤ê°€ê°€ ëŒ€í™”ë¥¼ ì£¼ë„í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ì¡°ìš©íˆ ê´€ì°°í•˜ë©° ìƒëŒ€ë°©ì˜ ì ‘ê·¼ì„ ê¸°ë‹¤ë¦°ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ë¬´ë¦¬ ì†ì—ì„œ í™œë™í•˜ë©° ë¶„ìœ„ê¸°ë¥¼ ë„ìš´ë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ê°œì¸ì ì¸ ê´€ì‹¬ì‚¬ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ì·¨ë¯¸ ìƒí™œì„ ì„ íƒí•  ë•Œ, ë‹¹ì‹ ì˜ ê¸°ì¤€ì€?",
                options: [
                    { text: "í™œë™ì ì´ê³  ë„ì „ì ì¸ ê²ƒì„ ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ë‚´ë©´ì˜ ê°ìˆ˜ì„±ì„ ìê·¹í•˜ëŠ” ì˜ˆìˆ /ë¬¸í™” í™œë™ì„ ì¦ê¸´ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ì‹¤ìš©ì ì´ê³  ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆëŠ” ê²ƒì„ ì¶”êµ¬í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 0, egenMan: 0, egenWoman: 0 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° í¸ì•ˆí•˜ê²Œ íœ´ì‹í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "íŒ¨ì…˜ ìŠ¤íƒ€ì¼ì— ëŒ€í•œ ë‹¹ì‹ ì˜ íƒœë„ëŠ”?",
                options: [
                    { text: "ìœ í–‰ë³´ë‹¤ëŠ” ê°„ê²°í•˜ê³  í´ë˜ì‹í•œ ê²ƒì„ ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 0, egenMan: 0, egenWoman: 0 } },
                    { text: "íŠ¸ë Œë“œì— ë¯¼ê°í•˜ë©°, ë¯¸ì  ê°ê°ì„ ë“œëŸ¬ë‚´ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", scores: { tetoMan: 0, tetoWoman: 1, egenMan: 2, egenWoman: 0 } },
                    { text: "ì‹¤ìš©ì„±ê³¼ í¸ì•ˆí•¨ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.", scores: { tetoMan: 1, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ì—¬ì„±ìŠ¤ëŸ½ê±°ë‚˜ ë¶€ë“œëŸ¬ìš´ ë¶„ìœ„ê¸°ì˜ ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 2 } }
                ]
            },
            {
                question: "ì—°ì• í•  ë•Œ ë‹¹ì‹ ì˜ ì£¼ëœ ëª¨ìŠµì€?",
                options: [
                    { text: "ì§ì ‘ ëŒ€ì‹œí•˜ê³  ê´€ê³„ë¥¼ ì£¼ë„í•˜ëŠ” í¸ì´ë‹¤.", scores: { tetoMan: 3, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ê°ì •ì  êµê°ê³¼ ì„¬ì„¸í•œ ì†Œí†µì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ë¬¸ì œ ë°œìƒ ì‹œ íšŒí”¼í•˜ê¸°ë³´ë‹¤ ì§ë©´í•˜ì—¬ í•´ê²°í•˜ë ¤ í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ìƒëŒ€ë°©ì˜ ëŒ€ì‹œë¥¼ ê¸°ë‹¤ë¦¬ê±°ë‚˜, ë¶€ë“œëŸ¬ìš´ ë¶„ìœ„ê¸°ì—ì„œ ê´€ê³„ê°€ ì‹œì‘ë˜ê¸¸ ë°”ë€ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ, ë‹¹ì‹ ì€ ì£¼ë¡œ ë¬´ì—‡ì— ì§‘ì¤‘í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë¹ ë¥´ê²Œ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë‚´ëŠ” ê²ƒ.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ì² ì €í•œ ê³„íšê³¼ ì„¸ë¶€ ì‚¬í•­ì„ ê²€í† í•˜ëŠ” ê²ƒ.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "íŒ€ì›ë“¤ê³¼ì˜ í˜‘ë ¥ê³¼ ì†Œí†µì„ ì¤‘ìš”ì‹œí•˜ëŠ” ê²ƒ.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 1, egenWoman: 1 } },
                    { text: "ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ êµ¬ìƒí•˜ê³  ì°½ì˜ì ì¸ ì ‘ê·¼ì„ ì‹œë„í•˜ëŠ” ê²ƒ.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ, ë‹¹ì‹ ì€ ì–´ë–»ê²Œ í•´ì†Œí•˜ë‚˜ìš”?",
                options: [
                    { text: "ìš´ë™ì´ë‚˜ í™œë™ì ì¸ ì·¨ë¯¸ë¡œ ì—ë„ˆì§€ë¥¼ ë°œì‚°í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "í˜¼ì ì¡°ìš©íˆ ìƒê°í•˜ê±°ë‚˜ íœ´ì‹ì„ ì·¨í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ì¹œêµ¬ë“¤ê³¼ ìˆ˜ë‹¤ë¥¼ ë–¨ê±°ë‚˜ ê°ì •ì ì¸ êµë¥˜ë¥¼ í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } },
                    { text: "ë¬¸ì œì˜ ì›ì¸ì„ ë¶„ì„í•˜ê³  í•´ê²°ì±…ì„ ì°¾ìœ¼ë ¤ í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } }
                ]
            },
            {
                question: "íƒ€ì¸ì˜ ê°ì •ì— ëŒ€í•´ ë‹¹ì‹ ì€ ì–¼ë§ˆë‚˜ ë¯¼ê°í•œê°€ìš”?",
                options: [
                    { text: "ë§¤ìš° ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ë©° ê³µê° ëŠ¥ë ¥ì´ ë†’ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ê°ì •ë³´ë‹¤ëŠ” ë…¼ë¦¬ì ì¸ ìƒí™© íŒŒì•…ì„ ìš°ì„ ì‹œí•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "í•„ìš”í•  ë•Œë§Œ ë°˜ì‘í•˜ë©°, ê¹Šì´ ëª°ì…í•˜ì§€ ì•ŠëŠ”ë‹¤.", scores: { tetoMan: 1, tetoWoman: 0, egenMan: 0, egenWoman: 0 } },
                    { text: "ê°ì •ì ì¸ í‘œí˜„ë³´ë‹¤ëŠ” ì‹¤ì§ˆì ì¸ ë„ì›€ì„ ì£¼ë ¤ í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 0 } }
                ]
            },
            {
                question: "ì‡¼í•‘ì„ í•  ë•Œ ë‹¹ì‹ ì˜ êµ¬ë§¤ ê¸°ì¤€ì€?",
                options: [
                    { text: "ì‹¤ìš©ì„±ê³¼ ê¸°ëŠ¥ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ë””ìì¸ê³¼ ë¯¸ì  ê°ê°, ê·¸ë¦¬ê³  íŠ¸ë Œë“œë¥¼ ì¤‘ìš”ì‹œí•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 1, egenMan: 2, egenWoman: 2 } },
                    { text: "ê°€ì„±ë¹„ë¥¼ ë”°ì§€ê³  ë¹ ë¥´ê²Œ ê²°ì •í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 0, egenMan: 0, egenWoman: 0 } },
                    { text: "ì˜¤ë˜ ê³ ë¯¼í•˜ë©° ì—¬ëŸ¬ ëŒ€ì•ˆì„ ë¹„êµí•œ í›„ ì‹ ì¤‘í•˜ê²Œ êµ¬ë§¤í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "íŒ€ì›Œí¬ í™˜ê²½ì—ì„œ ë‹¹ì‹ ì´ ì„ í˜¸í•˜ëŠ” ì—­í• ì€?",
                options: [
                    { text: "ì£¼ë„ì ìœ¼ë¡œ ë°©í–¥ì„ ì œì‹œí•˜ê³  íŒ€ì„ ì´ëŒì–´ê°„ë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ì¡°ìœ¨í•˜ê³  ë¶„ìœ„ê¸°ë¥¼ ë¶€ë“œëŸ½ê²Œ ë§Œë“ ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } },
                    { text: "ë§¡ì€ ë°”ë¥¼ ë¬µë¬µíˆ ì™„ìˆ˜í•˜ë©° ì‹¤ì§ˆì ì¸ ê¸°ì—¬ë¥¼ í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ì œì•ˆí•˜ê³  ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë•ëŠ”ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } }
                ]
            },
            {
                question: "ì£¼ë§ ê³„íšì„ ì„¸ìš¸ ë•Œ, ë‹¹ì‹ ì€ ì–´ë–¤ í™œë™ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "ìƒˆë¡œìš´ ê³³ì„ íƒí—˜í•˜ê±°ë‚˜ í™œë™ì ì¸ ìŠ¤í¬ì¸ ë¥¼ ì¦ê¸´ë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ì§‘ì—ì„œ í¸ì•ˆí•˜ê²Œ íœ´ì‹í•˜ê±°ë‚˜ ì˜í™”/ì±…ì„ ê°ìƒí•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ì¹œêµ¬ë“¤ê³¼ ë§Œë‚˜ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ë‚´ê±°ë‚˜ íŒŒí‹°ë¥¼ ì£¼ìµœí•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ì¡°ìš©íˆ ìì‹ ì„ ëŒì•„ë³´ê³  ë‚´ë©´ì˜ í‰í™”ë¥¼ ì°¾ëŠ” ì‹œê°„ì„ ê°–ëŠ”ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ ê¸°ìˆ ì´ë‚˜ ì§€ì‹ì„ ì ‘í–ˆì„ ë•Œ, ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
                options: [
                    { text: "ë°”ë¡œ ì ìš©í•´ë³´ê³  ì‹¤ì§ˆì ì¸ íš¨ê³¼ë¥¼ ì‹¤í—˜í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ê¹Šì´ íŒŒê³ ë“¤ì–´ ì›ë¦¬ì™€ ë°°ê²½ì„ ì´í•´í•˜ë ¤ ë…¸ë ¥í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ìœ ìš©í•˜ë‹¤ê³  íŒë‹¨ë˜ë©´ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ì ê·¹ì ìœ¼ë¡œ ê³µìœ í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ìƒˆë¡œìš´ ì •ë³´ ìì²´ë¥¼ ì¦ê¸°ë©° í¥ë¯¸ë¡­ê²Œ íƒìƒ‰í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ëˆ„êµ°ê°€ ë‹¹ì‹ ì—ê²Œ ë„ì›€ì„ ìš”ì²­í–ˆì„ ë•Œ, ë‹¹ì‹ ì€?",
                options: [
                    { text: "ë°”ë¡œ í•´ê²°ì±…ì„ ì œì‹œí•˜ê±°ë‚˜ ì§ì ‘ ë‚˜ì„œì„œ ë„ì™€ì¤€ë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ìƒëŒ€ë°©ì˜ ê°ì •ì„ ê³µê°í•˜ê³  ê²½ì²­í•˜ë©° ìœ„ë¡œë¥¼ ê±´ë„¨ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ë„ì›€ì„ ì¤„ ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ë°©ë²•ì„ ëª¨ìƒ‰í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ìƒí™©ì˜ ë³µì¡ì„±ì„ ì´í•´í•˜ë ¤ í•˜ê³ , ì‹ ì¤‘í•˜ê²Œ ì ‘ê·¼í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ë‹¹ì‹ ì€ ìì‹ ì˜ ê°ì •ì„ ì–´ë–»ê²Œ í‘œí˜„í•˜ëŠ” í¸ì¸ê°€ìš”?",
                options: [
                    { text: "ì§ì„¤ì ì´ê³  ì†”ì§í•˜ê²Œ í‘œí˜„í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ì„¬ì„¸í•˜ê³  ê°„ì ‘ì ìœ¼ë¡œ í‘œí˜„í•˜ë©°, ê°ì •ì„ ìˆ¨ê¸°ê¸°ë„ í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë” ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "ê°ì •ì˜ íë¦„ì— ë”°ë¼ ë³€í™”í•˜ë©°, ë•Œë¡  ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•˜ë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            },
            {
                question: "ì—¬í–‰ ê³„íšì„ ì„¸ìš¸ ë•Œ, ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì€?",
                options: [
                    { text: "ì¦‰í¥ì ìœ¼ë¡œ ë– ë‚˜ê³  í˜„ì§€ì—ì„œ ê²°ì •í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", scores: { tetoMan: 2, tetoWoman: 2, egenMan: 0, egenWoman: 0 } },
                    { text: "ëª¨ë“  ì¼ì •ì„ ì„¸ë°€í•˜ê²Œ ê³„íší•˜ê³  ì¤€ë¹„í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 2, egenWoman: 2 } },
                    { text: "ëª¨í—˜ì ì´ê³  ë„ì „ì ì¸ í™œë™ì„ ìš°ì„ ì ìœ¼ë¡œ ê³ ë ¤í•œë‹¤.", scores: { tetoMan: 1, tetoWoman: 1, egenMan: 0, egenWoman: 0 } },
                    { text: "í¸ì•ˆí•˜ê³  ì—¬ìœ ë¡œìš´ íœ´ì‹ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•œë‹¤.", scores: { tetoMan: 0, tetoWoman: 0, egenMan: 1, egenWoman: 1 } }
                ]
            }
        ];

        // Detailed definitions for each type
        const typeDefinitions = {
            tetoMan: {
                name: "í…Œí† ë‚¨ (í…ŒìŠ¤í† ìŠ¤í…Œë¡  ë‚¨ì„±)",
                oneLiner: "ëª©í‘œ ì§€í–¥ì ì´ê³  ì¶”ì§„ë ¥ ë„˜ì¹˜ëŠ” ë¦¬ë”! ì•ë§Œ ë³´ê³  ë‹¬ë¦¬ëŠ” ì¾Œë‚¨ ìŠ¤íƒ€ì¼!",
                summary: "í…Œí† ë‚¨ì€ ìƒë¬¼í•™ì  ìˆ˜ì¹˜ì™€ëŠ” ë¬´ê´€í•˜ê²Œ, ì‚¬íšŒì Â·í–‰ë™ì  íŠ¹ì„±ì—ì„œ ë‚¨ì„±ì ì¸ ìì§ˆì´ ê°•í•˜ê²Œ ë“œëŸ¬ë‚˜ëŠ” ë‚¨ì„±ì„ ëœ»í•©ë‹ˆë‹¤. ê³µê²©ì„±, ë¦¬ë”ì‹­, ë…¼ë¦¬ì  ì‚¬ê³ ê°€ íŠ¹ì§•ì´ë©° í˜„ì‹¤ ì§€í–¥ì ì´ê³  ë„ì „ê³¼ ëª¨í—˜ì„ ì¦ê¹ë‹ˆë‹¤.",
                loveStyle: "ê°ì •ë³´ë‹¤ëŠ” í–‰ë™ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ê³µê° ëŠ¥ë ¥ì€ ë‚®ì€ í¸ì´ë‚˜, í•„ìš”í•œ ìˆœê°„ì—” ì‹œì›í•˜ê²Œ í–‰ë™í•©ë‹ˆë‹¤. ì• êµë‚˜ ê°ì„±ì  êµë¥˜ëŠ” ì ìœ¼ë©°, ëŒ€ì‹œë¥¼ ë°›ê¸°ë³´ë‹¨ ì§ì ‘ í•˜ëŠ” ê²ƒì´ í¸í•©ë‹ˆë‹¤.",
                socialTrait: "ì™¸í–¥ì„±ì´ ê°•í•œ ê²½ìš° ì¹œêµ¬ ë° ì•½ì†ì´ ë§ê³ , ê°€ë§Œíˆ ìˆëŠ” ê²ƒì„ ëª» ì°¸ìœ¼ë©° í™œë™ëŸ‰ì´ ë§ìŠµë‹ˆë‹¤. ë‹¨ì²´ í™œë™ì´ë‚˜ ì‹¤ìš©ì ì¸ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì— ê°•ì ì´ ìˆìŠµë‹ˆë‹¤.",
                goodCompatibility: "ë¶€ë“œëŸ¬ìš´ ì—¬ì„±ì„±ê³¼ ì„¬ì„¸í•œ ê°ìˆ˜ì„±ì„ ì§€ë‹Œ **ì—ê²ë…€**ì—ê²Œ ëŒë¦½ë‹ˆë‹¤. ì„œë¡œì˜ ë¶€ì¡±í•œ ë©´ì„ ì±„ì›Œì£¼ëŠ” ì¡°í•©ì…ë‹ˆë‹¤.",
                badCompatibility: "ì–‘ê¸° ì„±í–¥ì´ ê°•í•œ **í…Œí† ë…€**ì™€ëŠ” ì£¼ë„ê¶Œ ë‹¤íˆ¼ì´ë‚˜ ì¦ì€ ê°ˆë“±ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™¸í˜•ì  ë§¤ë ¥ì€ ìˆìœ¼ë‚˜, ì„±í–¥ì ìœ¼ë¡œ ë¶€ë”ªíˆëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.",
                needs: "ë•Œë¡œëŠ” ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ê°ì •ì—ë„ ê·€ ê¸°ìš¸ì´ëŠ” ì„¬ì„¸í•¨ì´ í•„ìš”í•´ìš”. 'ë‚˜'ë³´ë‹¤ëŠ” 'ìš°ë¦¬'ë¥¼ ìƒê°í•˜ëŠ” ì—¬ìœ ë¥¼ ê°€ì ¸ë³´ì„¸ìš”.",
                extraContent: "ì•¡ì…˜ ì˜í™”, ìŠ¤í¬ì¸  ê²½ê¸° ê´€ëŒ, ê²½ì˜/ì°½ì—… ê´€ë ¨ ì„œì . ì‚¬ì—…ê°€, íŒ€ ë¦¬ë”, ì—”ì§€ë‹ˆì–´ ë“± ëª©í‘œ ì§€í–¥ì ì´ê³  ì¶”ì§„ë ¥ì´ í•„ìš”í•œ ì§ì—…ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.",
                characterImage: "https://placehold.co/150x150/FF6384/FFFFFF?text=Teto-M" // Placeholder image URL
            },
            egenMan: {
                name: "ì—ê²ë‚¨ (ì—ìŠ¤íŠ¸ë¡œê² ë‚¨ì„±)",
                oneLiner: "ê°ìˆ˜ì„± í’ë¶€í•˜ê³  ì„¬ì„¸í•œ ë‚´ë©´ì˜ íƒêµ¬ì! ë¶„ìœ„ê¸° ë©”ì´ì»¤ë³´ë‹¤ëŠ” ê³µê° ëŠ¥ë ¥ì!",
                summary: "ì—ê²ë‚¨ì€ ê°ì •ê³¼ ë‚´ë©´ì„ ì¤‘ìš”ì‹œí•˜ëŠ” ìˆ˜ë™ì ì´ê³  ë¶€ë“œëŸ¬ìš´ ë‚¨ì„± ìœ í˜•ì…ë‹ˆë‹¤. ê°ìˆ˜ì„±ê³¼ ì„¬ì„¸í•¨ì´ ë“œëŸ¬ë‚˜ë©°, ì˜ˆë¯¼í•œ í¸ì…ë‹ˆë‹¤. ì¶”ìƒì ì¸ ê°œë…ì— í¥ë¯¸ê°€ ë§ê³  ë‚´ë©´ ì§€í–¥ì ì…ë‹ˆë‹¤.",
                loveStyle: "ì—°ì• ì—ì„œ ìˆ˜ë™ì ì¸ ê²½í–¥ì´ ìˆìœ¼ë©°, ëŒ€ì‹œë³´ë‹¤ëŠ” ë°›ëŠ” ìª½ì´ ë” í¸í•©ë‹ˆë‹¤. ê°ì • í‘œí˜„ì„ í–‰ë™ë³´ë‹¤ëŠ” ë§ì´ë‚˜ ë¶„ìœ„ê¸°ë¡œ ì „í•˜ë©°, ì„¬ì„¸í•˜ê³  ê³µê°ì ì¸ êµë¥˜ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤.",
                socialTrait: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ì¤‘ìš”í•˜ê²Œ ì—¬ê¹ë‹ˆë‹¤. ì›€ì§ì„ë³´ë‹¤ëŠ” ì •ì ì¸ í™œë™(ë…ì„œ, ì˜í™”, ì „ì‹œ ê°ìƒ ë“±)ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ì†Œì…œë¯¸ë””ì–´ í™œë™ì— ìµìˆ™í•˜ë©° ìì‹ ì˜ ì·¨í–¥ì„ ì„¸ë°€í•˜ê²Œ í‘œí˜„í•˜ëŠ” ë° ëŠ¥ìˆ™í•©ë‹ˆë‹¤.",
                goodCompatibility: "ìì‹ ì—ê²Œ ë¶€ì¡±í•œ ì¶”ì§„ë ¥ê³¼ ì—ë„ˆì§€ë¥¼ ì§€ë‹Œ **í…Œí† ë…€**ì—ê²Œ ë§¤ë ¥ì„ ëŠë‚ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë§¤ë ¥ì´ ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                badCompatibility: "ê°ì„±ì ì´ê³  ì„¬ì„¸í•œ **ì—ê²ë…€**ì™€ëŠ” ê°ì •ì„ ì´ ê²¹ì³ í”¼ë¡œê°ì„ ëŠë¼ê±°ë‚˜ 'ë™ì¡±í˜ì˜¤'ë¥¼ ê²½í—˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì„œë¡œ ë„ˆë¬´ ì˜ ì•Œì•„ì„œ ìƒê¸°ëŠ” ì–´ë ¤ì›€ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.",
                needs: "ê°€ë”ì€ ë‚´ë©´ì˜ ì„¸ê³„ì—ì„œ ë²—ì–´ë‚˜ ì™¸ë¶€ë¡œ ì—ë„ˆì§€ë¥¼ ë°œì‚°í•˜ëŠ” ì—°ìŠµì´ í•„ìš”í•´ìš”. ê³¼ê°í•œ ê²°ì •ê³¼ ì¶”ì§„ë ¥ì„ ê¸¸ëŸ¬ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?",
                extraContent: "ì”ì”í•œ ìŒì•… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸, ë…ë¦½ ì˜í™”, ì—ì„¸ì´. ì˜ˆìˆ ê°€, ë””ìì´ë„ˆ, ìƒë‹´ì‚¬, ì—°êµ¬ì› ë“± ì„¬ì„¸í•œ ê°ê°ê³¼ ê¹Šì€ ì‚¬ê³ ê°€ í•„ìš”í•œ ì§ì—…ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.",
                characterImage: "https://placehold.co/150x150/36A2EB/FFFFFF?text=Egen-M"
            },
            tetoWoman: {
                name: "í…Œí† ë…€ (í…ŒìŠ¤í† ìŠ¤í…Œë¡  ì—¬ì„±)",
                oneLiner: "í™œê¸°ì°¨ê³  ë…ë¦½ì ì¸ ì»¤ë¦¬ì–´ ìš°ë¨¼! ë‹¹ì°¨ê³  ì‹œì›ì‹œì›í•œ ë§¤ë ¥ì˜ ì†Œìœ ì!",
                summary: "í…Œí† ë…€ëŠ” ëŠ¥ë™ì ì´ê³  ë…ë¦½ì ì¸ ì„±í–¥ì˜ ì—¬ì„± ìœ í˜•ì…ë‹ˆë‹¤. í™œë°œí•˜ê³  ì ê·¹ì ì´ë©°, ë„ì „ì ì¸ íƒœë„ë¥¼ ì§€ë‹™ë‹ˆë‹¤. ë‹¨ìˆœí•œ ì‚¬ê³  êµ¬ì¡°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ê°ì •ë³´ë‹¤ ìƒí™©ì„ ë¹ ë¥´ê²Œ íŒë‹¨í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.",
                loveStyle: "í˜¸ê° ìˆëŠ” ì´ì„±ì—ê²Œ ë¨¼ì € ëŒ€ì‹œí•˜ëŠ” ê²ƒì´ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤. ê°ì • í‘œí˜„ì— ìˆì–´ì„œ ì§ì„¤ì ì¸ í¸ì´ë©°, ê°ì¶”ê¸°ë³´ë‹¤ëŠ” ë“œëŸ¬ë‚´ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì»¤ë¦¬ì–´ë‚˜ ìê¸°ê³„ë°œì— ì§‘ì¤‘í•˜ëŠ” ì‹œê¸°ë„ ë§ìŠµë‹ˆë‹¤.",
                socialTrait: "ìš´ë™ì„ ì¦ê¸°ê±°ë‚˜ í™œë™ì ì¸ ì·¨ë¯¸ë¥¼ ê°€ì§„ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì „ë°˜ì ìœ¼ë¡œ â€˜ê±´ê°•í•œ ëŠë‚Œâ€™ì˜ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ê°€ì§€ë©°, ì™¸í–¥ì ì¸ ê²½ìš° ë‚¨ì‚¬ì¹œì´ ë§ê±°ë‚˜ ì´ì„±ê³¼ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê´€ê³„ í˜•ì„±ì´ ìµìˆ™í•©ë‹ˆë‹¤.",
                goodCompatibility: "ìì‹ ë³´ë‹¤ ë” ê°•í•œ ì–‘ê¸°ì™€ ë‚¨ì„±ì ì¸ ë§¤ë ¥ì„ ê°€ì§„ **í…Œí† ë‚¨**ì—ê²Œ ìì—°ìŠ¤ëŸ½ê²Œ ëŒë¦½ë‹ˆë‹¤. ì„œë¡œì˜ ê°•í•œ ì—ë„ˆì§€ê°€ ì¢‹ì€ ì‹œë„ˆì§€ë¥¼ ëƒ…ë‹ˆë‹¤.",
                badCompatibility: "ë‚¨ì„±ì„±ì´ë‚˜ ì£¼ë„ì„± ë©´ì—ì„œ ì•„ì‰¬ì›€ì„ ëŠë¼ê²Œ í•˜ëŠ” **ì—ê²ë‚¨**ê³¼ëŠ” ì—°ì•  ì½”ë“œê°€ ì–´ê¸‹ë‚˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì„¬ì„¸í•œ ê°ì •ì„ ì´ ë•Œë¡œëŠ” ë¶€ë‹´ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆì–´ìš”.",
                needs: "ë•Œë¡œëŠ” ëª©í‘œë¥¼ ì ì‹œ ë‚´ë ¤ë†“ê³  ê°ì„±ì ì¸ ë©´ì„ ëŒë³¼ í•„ìš”ê°€ ìˆì–´ìš”. ì£¼ë³€ì˜ ì‘ì€ í–‰ë³µê³¼ ê°ì •ì  êµë¥˜ì— ë” ì§‘ì¤‘í•´ ë³´ì„¸ìš”.",
                extraContent: "ìê¸°ê³„ë°œ ì„œì , ìŠ¤í¬ì¸  ë‹¤íë©˜í„°ë¦¬, ì¬í…Œí¬ ì •ë³´. í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €, ì˜ì—…, ê°œë°œì, ìŠ¤í¬ì¸  ê°•ì‚¬ ë“± í™œë™ì ì´ê³  ì„±ì·¨ ì§€í–¥ì ì¸ ì§ì—…ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.",
                characterImage: "https://placehold.co/150x150/FFCE56/FFFFFF?text=Teto-W"
            },
            egenWoman: {
                name: "ì—ê²ë…€ (ì—ìŠ¤íŠ¸ë¡œê² ì—¬ì„±)",
                oneLiner: "ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ ê³µê° ìš”ì •! ì„¬ì„¸í•œ ë‚´ë©´ìœ¼ë¡œ ì„¸ìƒì„ ë°”ë¼ë³´ëŠ” ìŠ¤íƒ€ì¼!",
                summary: "ì—ê²ë…€ëŠ” ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ ì •ì„œ ì¤‘ì‹¬ì˜ ì—¬ì„± ìœ í˜•ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ëŒë“¤ì´ ë– ì˜¬ë¦¬ëŠ” â€˜ì—¬ì„±ìŠ¤ëŸ¬ìš´ ì´ë¯¸ì§€â€™ì— ê°€ê¹Œìš°ë©°, ì„¬ì„¸í•˜ê³  ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ê°€ì§„ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.",
                loveStyle: "ìˆ˜ë™ì ì¸ íƒœë„ë¥¼ ë³´ì´ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë©°, ë¨¼ì € ëŒ€ì‹œí•˜ê¸°ë³´ë‹¤ ì´ëŒë¦¬ëŠ” ì—°ì• ë¥¼ ê²½í—˜í•˜ëŠ” í¸ì…ë‹ˆë‹¤. ê°ì„±ì  ìœ ëŒ€ì™€ ê³µê° ì¤‘ì‹¬ì˜ ê´€ê³„ë¥¼ ì„ í˜¸í•˜ë©°, ê´€ê³„ì˜ ì˜¨ë„ì™€ ì •ì„œì  êµê°ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.",
                socialTrait: "ë¶€ë“œëŸ½ê³  ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ê°€ì§„ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì˜¨í™”í•˜ê³  ì¡°ìš©í•œ ì´ë¯¸ì§€ë¡œ, í•™ì°½ì‹œì ˆì—ë„ ëˆˆì— ë„ê²Œ í–‰ë™í•˜ê¸°ë³´ë‹¤ëŠ” ì¡°ìš©í•œ ìœ„ì¹˜ì— ìˆì—ˆë˜ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.",
                goodCompatibility: "ìì‹ ì˜ ê°ìˆ˜ì„±ê³¼ ì •ì„œë¥¼ ì˜ ì´í•´í•´ì£¼ëŠ” **ì—ê²ë‚¨**ì—ê²Œ ëŒë¦¬ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì„œë¡œì˜ ì„¬ì„¸í•¨ì„ ì¡´ì¤‘í•˜ë©° ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ í˜•ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                badCompatibility: "ê°•í•œ ì–‘ê¸°ì™€ ì§ì„ ì ì¸ íƒœë„ë¥¼ ì§€ë‹Œ **í…Œí† ë‚¨**ì—ê²Œ ê°ì •ì ìœ¼ë¡œ ì••ë„ë˜ê±°ë‚˜ ë¶€ë‹´ìŠ¤ëŸ¬ì›€ì„ ëŠê»´ ê±°ë¦¬ê°ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°•í•œ ì—ë„ˆì§€ê°€ ë•Œë¡œëŠ” ë²„ê±°ìš¸ ìˆ˜ ìˆì–´ìš”.",
                needs: "ì ì  ë” ê°•ì¸í•˜ê³  ë…ë¦½ì ì¸ ì¡´ì¬ë¡œ ì„±ì¥í•  ìˆ˜ ìˆì–´ìš”. ìì‹ ì˜ ê°ì •ì— ì†”ì§í•˜ë©´ì„œë„ ë•Œë¡œëŠ” ë‹¨í˜¸í•˜ê²Œ ìì‹ ì„ í‘œí˜„í•˜ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤.",
                extraContent: "ê°ì„±ì ì¸ ë“œë¼ë§ˆ, ì›¹íˆ°, ë¡œë§¨ìŠ¤ ì†Œì„¤, ë¸Œì´ë¡œê·¸. ìœ ì¹˜ì› êµì‚¬, ê°„í˜¸ì‚¬, ì‚¬íšŒë³µì§€ì‚¬, í”Œë¡œë¦¬ìŠ¤íŠ¸ ë“± ì„¬ì„¸í•œ ê°ì • êµë¥˜ì™€ ëŒë´„ì´ í•„ìš”í•œ ì§ì—…ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.",
                characterImage: "https://placehold.co/150x150/4BC0C0/FFFFFF?text=Egen-W"
            }
        };

        // ----------------------------------------------------
        // 2. DOM element retrieval and initialization
        // ----------------------------------------------------
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');

        const startButton = document.getElementById('start-button');
        const directTypeInput = document.getElementById('direct-type-input');
        const directTypeButton = document.getElementById('direct-type-button');

        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionNum = document.getElementById('current-question-num');
        const totalQuestionsNum = document.getElementById('total-questions-num');
        const progressBar = document.getElementById('progress-bar');

        const resultCharacterImage = document.getElementById('result-character-image');
        const resultTypeName = document.getElementById('result-type-name');
        const resultOneLiner = document.getElementById('result-one-liner');
        const resultSummary = document.getElementById('result-summary');
        const resultLoveStyle = document.getElementById('result-love-style');
        const resultSocialTrait = document.getElementById('result-social-trait');
        const resultGoodCompatibility = document.getElementById('result-good-compatibility');
        const resultBadCompatibility = document.getElementById('result-bad-compatibility');
        const resultNeeds = document.getElementById('result-needs');
        const resultExtraContent = document.getElementById('result-extra-content');
        const restartButton = document.getElementById('restart-button');

        const messageModal = document.getElementById('message-modal');
        const modalMessage = document.getElementById('modal-message');
        const closeModalButton = document.getElementById('close-modal-button');
        const modalOkButton = document.getElementById('modal-ok-button');

        let currentQuestionIndex = 0;
        let userScores = { tetoMan: 0, egenMan: 0, tetoWoman: 0, egenWoman: 0 };

        // ----------------------------------------------------
        // 3. UI and Quiz Logic Functions
        // ----------------------------------------------------

        // Function to show the message modal
        function showMessage(message) {
            modalMessage.innerText = message;
            modalMessage.style.display = 'flex'; // Make the modal visible
        }

        // Function to close the modal
        function closeModal() {
            messageModal.style.display = 'none'; // Hide the modal
        }

        // Function to start the quiz
        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            currentQuestionIndex = 0;
            userScores = { tetoMan: 0, egenMan: 0, tetoWoman: 0, egenWoman: 0 };
            totalQuestionsNum.innerText = quizQuestions.length; // Correctly sets total questions to 15
            displayQuestion();
            updateProgressBar();
        }

        // Function to display the current question
        function displayQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                showResult();
                return;
            }

            const questionData = quizQuestions[currentQuestionIndex];
            questionText.innerText = questionData.question;
            optionsContainer.innerHTML = ''; // Clear previous options

            questionData.options.forEach(option => {
                const button = document.createElement('button');
                button.innerText = option.text;
                // Applying attractive and cute button design
                button.className = "w-full py-3 px-4 bg-gradient-to-r from-blue-400 to-cyan-500 text-white font-semibold rounded-lg shadow-md hover:from-blue-500 hover:to-cyan-600 transition-all duration-300 transform hover:scale-[1.01] hover:shadow-lg hover:translate-y-[-2px]";
                button.onclick = () => selectOption(option.scores);
                optionsContainer.appendChild(button);
            });

            currentQuestionNum.innerText = currentQuestionIndex + 1;
            updateProgressBar();
        }

        // Function to handle option selection and score accumulation
        function selectOption(scores) {
            for (const type in scores) {
                userScores[type] += scores[type];
            }
            currentQuestionIndex++;
            displayQuestion(); // Display next question or show results
        }

        // Function to update the progress bar
        function updateProgressBar() {
            const progress = (currentQuestionIndex / quizQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Function to display the result screen
        function showResult(forcedType = null) {
            quizScreen.classList.add('hidden');
            startScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            let finalType = forcedType;
            if (!finalType) {
                // Determine the final type based on scores
                let maxScore = -1;
                for (const type in userScores) {
                    if (userScores[type] > maxScore) {
                        maxScore = userScores[type];
                        finalType = type;
                    } else if (userScores[type] === maxScore) {
                        // If scores are tied, the first type encountered with max score is chosen.
                        // Additional logic can be added here for tie-breaking or showing multiple types.
                    }
                }
            }

            // Populate result data
            const typeInfo = typeDefinitions[finalType];
            if (typeInfo) {
                resultCharacterImage.src = typeInfo.characterImage;
                resultCharacterImage.alt = `${typeInfo.name} ìºë¦­í„° ì´ë¯¸ì§€`;
                resultTypeName.innerText = typeInfo.name;
                resultOneLiner.innerText = `"${typeInfo.oneLiner}"`;
                resultSummary.innerText = typeInfo.summary;
                resultLoveStyle.innerText = typeInfo.loveStyle;
                resultSocialTrait.innerText = typeInfo.socialTrait;
                resultGoodCompatibility.innerText = typeInfo.goodCompatibility;
                resultBadCompatibility.innerText = typeInfo.badCompatibility;
                resultNeeds.innerText = typeInfo.needs;
                resultExtraContent.innerText = typeInfo.extraContent;
            } else {
                showMessage("ì£„ì†¡í•©ë‹ˆë‹¤. ì •í™•í•œ ìœ í˜• ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: í…Œí† ë‚¨, ì—ê²ë‚¨, í…Œí† ë…€, ì—ê²ë…€)");
                startQuiz(); // Go back to start screen on error
            }
        }

        // ----------------------------------------------------
        // 4. Event Listener Registration
        // ----------------------------------------------------

        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', startQuiz);
        closeModalButton.addEventListener('click', closeModal);
        modalOkButton.addEventListener('click', closeModal);

        directTypeButton.addEventListener('click', () => {
            const input = directTypeInput.value.trim();
            let matchedType = null;
            // Find the matching type based on user input (e.g., "í…Œí† ë‚¨" -> "tetoMan")
            // Normalize input by converting to lowercase and removing spaces for flexible matching
            const normalizedInput = input.toLowerCase().replace(/\s/g, '');

            for (const key in typeDefinitions) {
                const normalizedTypeName = typeDefinitions[key].name.toLowerCase().replace(/\s/g, '');
                // Check if the input is included in the type name, or vice versa (for partial matches)
                // Example: 'í…Œí† ë‚¨' matches 'í…Œí† ë‚¨ (í…ŒìŠ¤í† ìŠ¤í…Œë¡  ë‚¨ì„±)' or 'í…Œí† ' matches 'í…Œí† ë‚¨'
                if (normalizedTypeName.includes(normalizedInput) || normalizedInput.includes(normalizedTypeName.split('(')[0].trim())) {
                    matchedType = key;
                    break;
                }
            }
            if (matchedType) {
                showResult(matchedType);
            } else {
                showMessage("ì£„ì†¡í•©ë‹ˆë‹¤. ì •í™•í•œ ìœ í˜• ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: í…Œí† ë‚¨, ì—ê²ë‚¨, í…Œí† ë…€, ì—ê²ë…€)");
            }
        });

        // ----------------------------------------------------
        // 5. Initial Load: Display Start Screen and Hide Modal
        // ----------------------------------------------------
        window.onload = function() {
            startScreen.classList.remove('hidden');
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            messageModal.style.display = 'none'; // Ensure the modal is hidden when the page loads
        };
    </script>
</body>
</html>
